<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toyota Leasing Calculator - ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÄ‡∏ä‡πà‡∏≤‡∏ã‡∏∑‡πâ‡∏≠‡πÅ‡∏•‡∏∞‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ ‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏° 2568</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            background: linear-gradient(135deg, #d32f2f, #f44336);
            color: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(211, 47, 47, 0.3);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        /* Tab Navigation */
        .tab-navigation {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            background: white;
            border-radius: 15px;
            padding: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .tab-button {
            flex: 1;
            max-width: 300px;
            padding: 15px 25px;
            background: #f5f5f5;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            margin: 0 5px;
            transition: all 0.3s ease;
            color: #666;
        }

        .tab-button.active {
            background: linear-gradient(135deg, #d32f2f, #f44336);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(211, 47, 47, 0.3);
        }

        .tab-button:hover:not(.active) {
            background: #e0e0e0;
            transform: translateY(-1px);
        }

        /* Tab Content */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .form-section, .result-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .form-section h2, .result-section h2 {
            color: #d32f2f;
            margin-bottom: 20px;
            font-size: 1.5rem;
            border-bottom: 3px solid #d32f2f;
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }

        .form-group select, .form-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .form-group select:focus, .form-group input:focus {
            outline: none;
            border-color: #d32f2f;
            box-shadow: 0 0 0 3px rgba(211, 47, 47, 0.1);
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
            transition: background 0.3s ease;
        }

        .checkbox-item:hover {
            background: #e3f2fd;
        }

        .checkbox-item input[type="checkbox"] {
            margin-right: 10px;
            transform: scale(1.2);
        }

        .checkbox-item.new-feature {
            background: linear-gradient(135deg, #fff3e0, #ffe0b2);
            border-left: 4px solid #ff9800;
        }

        .calculate-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #d32f2f, #f44336);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            margin-top: 20px;
        }

        .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(211, 47, 47, 0.3);
        }

        .result-card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 5px solid #d32f2f;
        }

        .result-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #dee2e6;
        }

        .result-row:last-child {
            border-bottom: none;
        }

        .result-label {
            font-weight: 600;
            color: #555;
        }

        .result-value {
            font-weight: 700;
            color: #d32f2f;
            font-size: 1.1rem;
        }

        .highlight {
            background: linear-gradient(135deg, #fff3e0, #ffe0b2);
            border-left-color: #ff9800;
        }

        .budget-analysis {
            background: linear-gradient(135deg, #f3e5f5, #e1bee7);
            border-left-color: #9c27b0;
            margin: 15px 0;
        }

        .budget-surplus {
            background: linear-gradient(135deg, #e8f5e8, #c8e6c9);
            border-left-color: #4caf50;
        }

        .budget-deficit {
            background: linear-gradient(135deg, #ffebee, #ffcdd2);
            border-left-color: #f44336;
        }

        .error-message {
            background: #ffebee;
            color: #c62828;
            padding: 15px;
            border-radius: 8px;
            border-left: 5px solid #c62828;
            margin-top: 20px;
        }

        .success-message {
            background: #e8f5e8;
            color: #2e7d32;
            padding: 15px;
            border-radius: 8px;
            border-left: 5px solid #4caf50;
            margin-top: 20px;
        }

        .new-badge {
            background: #ff9800;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 8px;
        }

        .discount-section {
            background: linear-gradient(135deg, #e8f5e8, #c8e6c9);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #4caf50;
        }

        .discount-title {
            font-weight: 700;
            color: #2e7d32;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        /* Sabaidee specific styles */
        .sabaidee-options {
            background: linear-gradient(135deg, #f3e5f5, #e1bee7);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #9c27b0;
        }

        .sabaidee-title {
            font-weight: 700;
            color: #7b1fa2;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .rv-display {
            background: #e8eaf6;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 4px solid #3f51b5;
        }

        .rv-value {
            font-size: 1.2rem;
            font-weight: 700;
            color: #3f51b5;
        }

        .tab-indicator {
            background: #e3f2fd;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #2196f3;
            font-weight: 600;
            color: #1976d2;
        }

        .percentage-display {
            font-size: 0.9rem;
            color: #666;
            margin-top: 5px;
        }

        .input-group {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .input-group input {
            flex: 1;
        }

        .unit-label {
            background: #f0f0f0;
            padding: 12px 15px;
            border-radius: 8px;
            font-weight: 600;
            color: #666;
            border: 2px solid #e0e0e0;
        }

        .promotions-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            margin-top: 30px;
        }

        .promo-card {
            background: linear-gradient(135deg, #e8f5e8, #c8e6c9);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 5px solid #4caf50;
        }

        .promo-card.new {
            background: linear-gradient(135deg, #fff3e0, #ffe0b2);
            border-left-color: #ff9800;
        }

        .promo-title {
            font-weight: 700;
            color: #2e7d32;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .promo-card.new .promo-title {
            color: #e65100;
        }

        .promo-details {
            color: #555;
            line-height: 1.5;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .checkbox-group {
                grid-template-columns: 1fr;
            }

            .tab-navigation {
                flex-direction: column;
            }

            .tab-button {
                margin: 5px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöó Toyota Leasing Calculator</h1>
            <p>‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÄ‡∏ä‡πà‡∏≤‡∏ã‡∏∑‡πâ‡∏≠‡πÅ‡∏•‡∏∞‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ ‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏° 2568 <span class="new-badge">UPDATED</span></p>
        </div>

        <!-- Tab Navigation -->
        <div class="tab-navigation">
            <button class="tab-button active" onclick="switchTab('traditional')">
                üí∞ ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πà‡∏≤‡∏ã‡∏∑‡πâ‡∏≠‡πÅ‡∏ö‡∏ö‡∏î‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏¥‡∏°
            </button>
            <button class="tab-button" onclick="switchTab('sabaidee')">
                ‚ú® ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ
            </button>
        </div>

        <!-- Traditional Leasing Tab -->
        <div id="traditional-tab" class="tab-content active">
            <div class="tab-indicator">
                üìã ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏ä‡πà‡∏≤‡∏ã‡∏∑‡πâ‡∏≠‡πÅ‡∏ö‡∏ö‡∏î‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏¥‡∏° - ‡∏ú‡πà‡∏≠‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡πÜ ‡∏Å‡∏±‡∏ô
            </div>
            
            <div class="main-content">
                <div class="form-section">
                    <h2>üìù ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</h2>
                    
                    <div class="form-group">
                        <label for="carModel">‡∏£‡∏∏‡πà‡∏ô‡∏£‡∏ñ:</label>
                        <select id="carModel" onchange="updateAvailableTerms('traditional')">
                            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∏‡πà‡∏ô‡∏£‡∏ñ --</option>
                            <option value="Ativ">Toyota Ativ</option>
                            <option value="Yaris">Toyota Yaris</option>
                            <option value="Yaris_Cross">Toyota Yaris Cross</option>
                            <option value="Veloz">Toyota Veloz</option>
                            <option value="Corolla_Cross">Toyota Corolla Cross</option>
                            <option value="Corolla_Altis">Toyota Corolla Altis</option>
                            <option value="Camry">Toyota Camry</option>
                            <option value="Fortuner">Toyota Fortuner</option>
                            <option value="Innova">Toyota Innova</option>
                            <option value="Revo_BCab">Toyota Revo Standard (B-Cab)</option>
                            <option value="Revo_CCab">Toyota Revo SmartCab (C-Cab)</option>
                            <option value="Revo_DCab">Toyota Revo Doublecab (D-Cab)</option>
                            <option value="Hilux_Champ">Toyota Hilux Champ</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="carPrice">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ñ (‡∏ö‡∏≤‡∏ó):</label>
                        <input type="number" id="carPrice" placeholder="‡πÄ‡∏ä‡πà‡∏ô 600000" min="50000" step="1000">
                    </div>

                    <div class="form-group">
                        <label for="downPayment">‡∏á‡∏ö‡∏î‡∏≤‡∏ß‡∏ô‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ (‡∏ö‡∏≤‡∏ó):</label>
                        <input type="number" id="downPayment" placeholder="‡πÄ‡∏ä‡πà‡∏ô 80000" min="0" step="1000" oninput="updateDownPaymentPercentage('traditional')">
                        <div class="percentage-display" id="downPaymentPercentage"></div>
                    </div>

                    <div class="form-group">
                        <label for="loanTerm">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏á‡∏ß‡∏î (‡πÄ‡∏î‡∏∑‡∏≠‡∏ô):</label>
                        <select id="loanTerm">
                            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏á‡∏ß‡∏î --</option>
                            <option value="48">48 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (4 ‡∏õ‡∏µ)</option>
                            <option value="60">60 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (5 ‡∏õ‡∏µ)</option>
                            <option value="72">72 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (6 ‡∏õ‡∏µ)</option>
                            <option value="84">84 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (7 ‡∏õ‡∏µ)</option>
                            <option value="96">96 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (8 ‡∏õ‡∏µ)</option>
                            <option value="108">108 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (9 ‡∏õ‡∏µ)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤:</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="customer_tlt" value="TLT_A_Grade">
                                <label for="customer_tlt">TLT A-Grade (‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î 0.20%)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="customer_kubota" value="Kubota_A_Grade">
                                <label for="customer_kubota">Kubota A-Grade (‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î 0.20%)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="customer_buy_more" value="Buy_More">
                                <label for="customer_buy_more">Buy More (‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î 0.15%)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="customer_buy_easy" value="Buy_Easy">
                                <label for="customer_buy_easy">Buy Easy (‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î 0.15%)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="customer_household" value="Household">
                                <label for="customer_household">Household (‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î 0.15%)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="customer_special" value="Special_Profession">
                                <label for="customer_special">‡∏≠‡∏≤‡∏ä‡∏µ‡∏û‡∏û‡∏¥‡πÄ‡∏®‡∏© (‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î 0.30%)</label>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏™‡∏£‡∏¥‡∏°:</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item new-feature">
                                <input type="checkbox" id="insurance_option" value="insurance_0.75">
                                <label for="insurance_option">‡∏ö‡∏ß‡∏Å‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢ 0.75% ‡∏ü‡∏£‡∏µ‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏ä‡∏±‡πâ‡∏ô 1 <span class="new-badge">HOT</span></label>
                            </div>
                        </div>
                    </div>

                    <div class="discount-section">
                        <div class="discount-title">üí∞ ‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</div>
                        <div class="form-group">
                            <label for="additionalDiscount">‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏û‡∏¥‡πÄ‡∏®‡∏© (%):</label>
                            <div class="input-group">
                                <input type="number" id="additionalDiscount" placeholder="‡πÄ‡∏ä‡πà‡∏ô 0.50" min="0" max="5" step="0.01">
                                <span class="unit-label">%</span>
                            </div>
                        </div>
                    </div>

                    <button class="calculate-btn" onclick="calculateFinancing()">üßÆ ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</button>
                </div>

                <div class="result-section">
                    <h2>üìä ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</h2>
                    <div id="results">
                        <div class="result-card">
                            <p style="text-align: center; color: #666; padding: 40px;">
                                üîç ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏Å‡∏î‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sabaidee Tab -->
        <div id="sabaidee-tab" class="tab-content">
            <div class="tab-indicator">
                ‚ú® ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ - ‡∏Ñ‡πà‡∏≤‡∏á‡∏ß‡∏î‡∏ï‡πà‡∏≥ ‡∏°‡∏µ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ (RV) ‡∏ó‡∏µ‡πà‡∏ó‡πâ‡∏≤‡∏¢‡∏™‡∏±‡∏ç‡∏ç‡∏≤
            </div>
            
            <div class="main-content">
                <div class="form-section">
                    <h2>üìù ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ</h2>
                    
                    <div class="form-group">
                        <label for="sabaideeCarModel">‡∏£‡∏∏‡πà‡∏ô‡∏£‡∏ñ:</label>
                        <select id="sabaideeCarModel" onchange="updateSabaideeOptions()">
                            <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∏‡πà‡∏ô‡∏£‡∏ñ --</option>
                            <option value="Ativ">Toyota Ativ</option>
                            <option value="Yaris">Toyota Yaris</option>
                            <option value="Yaris_Cross">Toyota Yaris Cross</option>
                            <option value="Veloz">Toyota Veloz</option>
                            <option value="Corolla_Cross">Toyota Corolla Cross</option>
                            <option value="Corolla_Altis">Toyota Corolla Altis</option>
                            <option value="Fortuner">Toyota Fortuner</option>
                            <option value="Innova">Toyota Innova</option>
                            <option value="Revo_BCab">Toyota Revo Standard (B-Cab)</option>
                            <option value="Revo_CCab">Toyota Revo SmartCab (C-Cab)</option>
                            <option value="Revo_DCab">Toyota Revo Doublecab (D-Cab)</option>
                            <option value="Hilux_Champ">Toyota Hilux Champ</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="sabaideeCarPrice">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ñ (‡∏ö‡∏≤‡∏ó):</label>
                        <input type="number" id="sabaideeCarPrice" placeholder="‡πÄ‡∏ä‡πà‡∏ô 600000" min="50000" step="1000">
                    </div>

                    <div class="form-group">
                        <label for="sabaideeDownPayment">‡∏á‡∏ö‡∏î‡∏≤‡∏ß‡∏ô‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ (‡∏ö‡∏≤‡∏ó):</label>
                        <input type="number" id="sabaideeDownPayment" placeholder="‡πÄ‡∏ä‡πà‡∏ô 80000" min="0" step="1000" oninput="updateDownPaymentPercentage('sabaidee')">
                        <div class="percentage-display" id="sabaideeDownPaymentPercentage"></div>
                    </div>

                    <div class="sabaidee-options">
                        <div class="sabaidee-title">‚ú® ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ</div>
                        <div class="form-group">
                            <label for="sabaideeProgram">‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°:</label>
                            <select id="sabaideeProgram" onchange="updateSabaideeTerms()">
                                <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° --</option>
                                <option value="standard">‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô</option>
                                <option value="revolution">‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ‡∏£‡∏µ‡πÇ‡∏ß‡∏•‡∏π‡∏ä‡∏±‡πà‡∏ô</option>
                                <option value="stair_step">‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ Stair Step</option>
                                <option value="seven_years">‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ 7 ‡∏õ‡∏µ</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="sabaideeTerm">‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤:</label>
                            <select id="sabaideeTerm" onchange="updateRVDisplay()">
                                <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ --</option>
                            </select>
                        </div>

                        <div id="rvDisplay" class="rv-display" style="display: none;">
                            <div class="result-row">
                                <span class="result-label">‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ (RV):</span>
                                <span class="rv-value" id="rvPercentage">-</span>
                            </div>
                            <div class="result-row">
                                <span class="result-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô RV:</span>
                                <span class="rv-value" id="rvAmount">-</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ (‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ):</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="sabaidee_customer_tlt" value="TLT_A_Grade">
                                <label for="sabaidee_customer_tlt">TLT A-Grade (‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î 0.20%)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="sabaidee_customer_kubota" value="Kubota_A_Grade">
                                <label for="sabaidee_customer_kubota">Kubota A-Grade (‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î 0.20%)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="sabaidee_customer_buy_more" value="Buy_More">
                                <label for="sabaidee_customer_buy_more">Buy More (‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î 0.15%)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="sabaidee_customer_buy_easy" value="Buy_Easy">
                                <label for="sabaidee_customer_buy_easy">Buy Easy (‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î 0.15%)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="sabaidee_customer_special" value="Special_Profession">
                                <label for="sabaidee_customer_special">‡∏≠‡∏≤‡∏ä‡∏µ‡∏û‡∏û‡∏¥‡πÄ‡∏®‡∏© (‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î 0.30%)</label>
                            </div>
                        </div>
                    </div>

                    <button class="calculate-btn" onclick="calculateSabaidee()">‚ú® ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ</button>
                </div>

                <div class="result-section">
                    <h2>üìä ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ</h2>
                    <div id="sabaideeResults">
                        <div class="result-card">
                            <p style="text-align: center; color: #666; padding: 40px;">
                                üîç ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏Å‡∏î‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="promotions-section">
            <h2>üéâ ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡πÅ‡∏•‡∏∞‡πÅ‡∏Ñ‡∏°‡πÄ‡∏õ‡∏ç‡∏û‡∏¥‡πÄ‡∏®‡∏© ‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏° 2568</h2>
            <div id="promotions-list">
                <div class="promo-card new">
                    <div class="promo-title">üöó ‡πÅ‡∏Ñ‡∏°‡πÄ‡∏õ‡∏ç‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏û‡∏¥‡πÄ‡∏®‡∏© Ativ/Yaris 2566</div>
                    <div class="promo-details">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î 0% ‡∏ó‡∏µ‡πà‡∏î‡∏≤‡∏ß‡∏ô‡πå 25% ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ 48 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (1-31 ‡∏Å.‡∏Ñ. 2568)</div>
                </div>
                <div class="promo-card new">
                    <div class="promo-title">üèîÔ∏è ‡πÅ‡∏Ñ‡∏°‡πÄ‡∏õ‡∏ç‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏û‡∏¥‡πÄ‡∏®‡∏© Fortuner 2567</div>
                    <div class="promo-details">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î 0.89% ‡∏ó‡∏µ‡πà‡∏î‡∏≤‡∏ß‡∏ô‡πå 25% ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ 48 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (1-31 ‡∏Å.‡∏Ñ. 2568)</div>
                </div>
                <div class="promo-card">
                    <div class="promo-title">‚≠ê ‡πÅ‡∏Ñ‡∏°‡πÄ‡∏õ‡∏ç‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏û‡∏¥‡πÄ‡∏®‡∏© Veloz</div>
                    <div class="promo-details">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î 0% ‡∏ó‡∏µ‡πà‡∏î‡∏≤‡∏ß‡∏ô‡πå 25% ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ 60 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (1 ‡∏°‡∏µ.‡∏Ñ. - 31 ‡∏Å.‡∏Ñ. 2568)</div>
                </div>
                <div class="promo-card new">
                    <div class="promo-title">üéØ ‡πÅ‡∏Ñ‡∏°‡πÄ‡∏õ‡∏ç‡∏Ñ‡πà‡∏≤‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ</div>
                    <div class="promo-details">‡∏Ñ‡πà‡∏≤‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏© 500-1,000 ‡∏ö‡∏≤‡∏ó/‡∏™‡∏±‡∏ç‡∏ç‡∏≤ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ (1-31 ‡∏Å.‡∏Ñ. 2568)</div>
                </div>
                <div class="promo-card">
                    <div class="promo-title">üõ°Ô∏è ‡πÅ‡∏Ñ‡∏°‡πÄ‡∏õ‡∏ç‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢ Toyota Care</div>
                    <div class="promo-details">‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏û‡∏¥‡πÄ‡∏®‡∏© 500-1,000 ‡∏ö‡∏≤‡∏ó ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó 1 (1-31 ‡∏Å.‡∏Ñ. 2568)</div>
                </div>
                <div class="promo-card">
                    <div class="promo-title">üåø ‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏£‡∏ñ‡πÑ‡∏Æ‡∏ö‡∏£‡∏¥‡∏î</div>
                    <div class="promo-details">‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢ 0.10% ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏ñ‡πÑ‡∏Æ‡∏ö‡∏£‡∏¥‡∏î‡∏ó‡∏∏‡∏Å‡∏£‡∏∏‡πà‡∏ô (‡∏ï‡∏•‡∏≠‡∏î‡∏õ‡∏µ 2568)</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏•‡∏±‡∏ö‡πÅ‡∏ó‡πá‡∏ö
        function switchTab(tabName) {
            // ‡∏ã‡πà‡∏≠‡∏ô‡πÅ‡∏ó‡πá‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // ‡∏õ‡∏¥‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏ó‡πá‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // ‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏ó‡πá‡∏ö‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
            document.getElementById(tabName + '-tab').classList.add('active');
            
            // ‡πÄ‡∏õ‡∏¥‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏ó‡πá‡∏ö‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
            document.querySelector(`[onclick="switchTab('${tabName}')"]`).classList.add('active');
        }

        // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏∞‡∏ö‡∏ö Toyota Leasing - ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏° 2568
        const ToyotaLeasingSystem = {
            info: {
                title: "‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏° 2568",
                company: "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡πÇ‡∏ï‡πÇ‡∏¢‡∏ï‡πâ‡∏≤‡∏•‡∏µ‡∏™‡∏ã‡∏¥‡πà‡∏á (‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢) ‡∏à‡∏≥‡∏Å‡∏±‡∏î",
                period: "1-31 ‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏° 2568"
            },
            
            standardRates: {
                "Ativ": {
                    "5%": { "48": 4.19, "60": 4.49, "72": 4.95, "84": 5.39 },
                    "10%": { "48": 3.79, "60": 4.09, "72": 4.45, "84": 5.05 },
                    "15%": { "48": 2.99, "60": 3.39, "72": 3.85, "84": 4.25, "96": 4.75 },
                    "20%": { "48": 2.69, "60": 3.05, "72": 3.29, "84": 3.79, "96": 4.29 },
                    "25%": { "48": 2.39, "60": 2.89, "72": 3.15, "84": 3.69, "96": 4.19 }
                },
                "Yaris": {
                    "5%": { "48": 4.19, "60": 4.49, "72": 4.95, "84": 5.39 },
                    "10%": { "48": 3.79, "60": 4.09, "72": 4.45, "84": 5.05 },
                    "15%": { "48": 2.99, "60": 3.39, "72": 3.85, "84": 4.25, "96": 4.75 },
                    "20%": { "48": 2.69, "60": 3.05, "72": 3.29, "84": 3.79, "96": 4.29 },
                    "25%": { "48": 2.39, "60": 2.89, "72": 3.15, "84": 3.69, "96": 4.19 }
                },
                "Yaris_Cross": {
                    "5%": { "48": 3.69, "60": 3.99, "72": 4.45, "84": 4.89 },
                    "10%": { "48": 3.29, "60": 3.59, "72": 3.95, "84": 4.55 },
                    "15%": { "48": 2.49, "60": 2.89, "72": 3.35, "84": 3.75, "96": 4.25 },
                    "20%": { "48": 1.99, "60": 2.35, "72": 2.55, "84": 3.05, "96": 3.79 },
                    "25%": { "48": 1.75, "60": 2.19, "72": 2.45, "84": 2.99, "96": 3.69 }
                },
                "Veloz": {
                    "5%": { "48": 2.25, "60": 2.85, "72": 3.50, "84": 4.09 },
                    "10%": { "48": 1.75, "60": 2.40, "72": 2.95, "84": 3.70 },
                    "15%": { "48": 0.90, "60": 1.65, "72": 2.30, "84": 2.90 },
                    "20%": { "48": 0.39, "60": 1.15, "72": 1.65, "84": 2.30 },
                    "25%": { "48": 0, "60": 0, "72": 1.45, "84": 2.09 }
                },
                "Corolla_Cross": {
                    "5%": { "48": 3.40, "60": 3.90, "72": 4.35, "84": 4.95 },
                    "10%": { "48": 3.00, "60": 3.40, "72": 3.89, "84": 4.55 },
                    "15%": { "48": 2.20, "60": 2.75, "72": 3.29, "84": 3.79 },
                    "20%": { "48": 1.79, "60": 2.29, "72": 2.60, "84": 3.19 },
                    "25%": { "48": 1.39, "60": 2.09, "72": 2.49, "84": 2.99 }
                },
                "Corolla_Altis": {
                    "5%": { "48": 4.09, "60": 4.45, "72": 4.85, "84": 5.39 },
                    "10%": { "48": 3.69, "60": 3.99, "72": 4.39, "84": 4.99 },
                    "15%": { "48": 2.95, "60": 3.35, "72": 3.79, "84": 4.19, "96": 4.69 },
                    "20%": { "48": 2.65, "60": 2.99, "72": 3.25, "84": 3.75, "96": 4.25 },
                    "25%": { "48": 2.39, "60": 2.85, "72": 3.09, "84": 3.59, "96": 4.09 }
                },
                "Camry": {
                    "5%": { "48": 3.70, "60": 4.25, "72": 4.60, "84": 5.15 },
                    "10%": { "48": 3.30, "60": 3.65, "72": 4.10, "84": 4.75 },
                    "15%": { "48": 2.55, "60": 3.00, "72": 3.50, "84": 3.95 },
                    "20%": { "48": 2.20, "60": 2.65, "72": 3.00, "84": 3.55 },
                    "25%": { "48": 1.79, "60": 2.50, "72": 2.80, "84": 3.35 }
                },
                "Fortuner": {
                    "5%": { "48": 2.95, "60": 3.50, "72": 4.00, "84": 4.65 },
                    "10%": { "48": 2.50, "60": 3.00, "72": 3.49, "84": 4.19 },
                    "15%": { "48": 1.70, "60": 2.30, "72": 2.89, "84": 3.39, "96": 3.95 },
                    "20%": { "48": 1.35, "60": 1.85, "72": 2.25, "84": 2.79, "96": 3.50 },
                    "25%": { "48": 0.89, "60": 1.65, "72": 2.05, "84": 2.65, "96": 3.25 }
                },
                "Innova": {
                    "5%": { "48": 3.65, "60": 4.20, "72": 4.55, "84": 5.09 },
                    "10%": { "48": 3.25, "60": 3.60, "72": 4.05, "84": 4.69 },
                    "15%": { "48": 2.50, "60": 2.95, "72": 3.45, "84": 3.89 },
                    "20%": { "48": 2.15, "60": 2.60, "72": 2.90, "84": 3.40 },
                    "25%": { "48": 1.79, "60": 2.50, "72": 2.70, "84": 3.25 }
                },
                "Revo_BCab": {
                    "5%": { "48": 5.05, "60": 5.35, "72": 5.45, "84": 5.55 },
                    "10%": { "48": 4.20, "60": 4.40, "72": 5.05, "84": 5.49 },
                    "15%": { "48": 3.65, "60": 3.95, "72": 4.45, "84": 5.19, "96": 5.69 },
                    "20%": { "48": 2.85, "60": 3.49, "72": 3.95, "84": 4.65, "96": 5.15 },
                    "25%": { "48": 2.39, "60": 3.39, "72": 3.69, "84": 4.49, "96": 4.99 }
                },
                "Revo_CCab": {
                    "5%": { "48": 4.95, "60": 5.25, "72": 5.40, "84": 5.52 },
                    "10%": { "48": 4.10, "60": 4.35, "72": 4.90, "84": 5.47 },
                    "15%": { "48": 3.55, "60": 3.85, "72": 4.32, "84": 5.02, "96": 5.52 },
                    "20%": { "48": 2.80, "60": 3.39, "72": 3.80, "84": 4.50, "96": 5.00 },
                    "25%": { "48": 2.39, "60": 3.29, "72": 3.59, "84": 4.29, "96": 4.79 }
                },
                "Revo_DCab": {
                    "5%": { "48": 4.80, "60": 5.15, "72": 5.45, "84": 5.55 },
                    "10%": { "48": 4.00, "60": 4.30, "72": 4.75, "84": 5.45 },
                    "15%": { "48": 3.45, "60": 3.75, "72": 4.19, "84": 4.85, "96": 5.35 },
                    "20%": { "48": 2.75, "60": 3.29, "72": 3.65, "84": 4.35, "96": 4.85 },
                    "25%": { "48": 2.39, "60": 3.19, "72": 3.49, "84": 4.09, "96": 4.59 }
                },
                "Hilux_Champ": {
                    "5%": { "48": 4.90, "60": 5.25, "72": 5.30, "84": 5.50, "96": 5.80, "108": 6.30 },
                    "10%": { "48": 4.09, "60": 4.29, "72": 4.89, "84": 5.30, "96": 5.65, "108": 5.70 },
                    "15%": { "48": 3.59, "60": 3.89, "72": 4.35, "84": 5.00, "96": 5.50, "108": 5.70 },
                    "20%": { "48": 2.85, "60": 3.49, "72": 3.89, "84": 4.55, "96": 5.05, "108": 5.55 },
                    "25%": { "48": 2.39, "60": 3.39, "72": 3.69, "84": 4.45, "96": 4.95, "108": 5.45 }
                }
            },
            
            specialPromotions: {
                "Ativ_Yaris_2566": {
                    description: "‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏û‡∏¥‡πÄ‡∏®‡∏©‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÇ‡∏Ü‡∏©‡∏ì‡∏≤‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏ñ‡πÄ‡∏≠‡∏ó‡∏µ‡∏ü‡πÉ‡∏´‡∏°‡πà ‡πÅ‡∏•‡∏∞‡∏¢‡∏≤‡∏£‡∏¥‡∏™ ‡∏õ‡∏µ 2566",
                    models: ["Ativ", "Yaris"],
                    period: "1-31 ‡∏Å.‡∏Ñ. 2568",
                    deliveryDeadline: "31 ‡∏™.‡∏Ñ. 2568",
                    dealerSubsidy: 9000,
                    lowestRate: 0,
                    conditions: "‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î 0% ‡∏ó‡∏µ‡πà‡∏î‡∏≤‡∏ß‡∏ô‡πå 25% ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ 48 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
                    rates: {
                        "5%": { "48": 2.60, "60": 3.20, "72": 3.80, "84": 4.39 },
                        "10%": { "48": 2.15, "60": 2.70, "72": 3.25, "84": 4.00 },
                        "15%": { "48": 1.30, "60": 1.95, "72": 2.60, "84": 2.95, "96": 3.75 },
                        "20%": { "48": 0.79, "60": 1.45, "72": 1.85, "84": 2.39, "96": 3.29 },
                        "25%": { "48": 0, "60": 1.25, "72": 1.69, "84": 2.15, "96": 3.05 }
                    }
                },
                "Fortuner_2567": {
                    description: "‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏û‡∏¥‡πÄ‡∏®‡∏©‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÇ‡∏Ü‡∏©‡∏ì‡∏≤‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏ñ‡∏ü‡∏≠‡∏£‡πå‡∏à‡∏π‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå ‡∏õ‡∏µ 2567",
                    models: ["Fortuner"],
                    period: "1-31 ‡∏Å.‡∏Ñ. 2568",
                    deliveryDeadline: "31 ‡∏™.‡∏Ñ. 2568",
                    dealerSubsidy: { "Leader": 17000, "Legender_GR_Sport": 37000 },
                    lowestRate: 0.89,
                    conditions: "‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î 0.89% ‡∏ó‡∏µ‡πà‡∏î‡∏≤‡∏ß‡∏ô‡πå 25% ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ 48 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
                    rates: {
                        "5%": { "48": 2.95, "60": 3.50, "72": 4.00, "84": 4.65 },
                        "10%": { "48": 2.50, "60": 3.00, "72": 3.49, "84": 4.19 },
                        "15%": { "48": 1.70, "60": 2.30, "72": 2.89, "84": 3.39, "96": 3.95 },
                        "20%": { "48": 1.35, "60": 1.85, "72": 2.25, "84": 2.79, "96": 3.50 },
                        "25%": { "48": 0.89, "60": 1.65, "72": 2.05, "84": 2.55, "96": 3.25 }
                    }
                },
                "Veloz_Special": {
                    description: "‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏û‡∏¥‡πÄ‡∏®‡∏©‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÇ‡∏Ü‡∏©‡∏ì‡∏≤‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏ñ‡πÄ‡∏ß‡∏•‡∏≠‡∏ã",
                    models: ["Veloz"],
                    period: "1 ‡∏°‡∏µ.‡∏Ñ. - 31 ‡∏Å.‡∏Ñ. 2568",
                    deliveryDeadline: "31 ‡∏™.‡∏Ñ. 2568",
                    dealerSubsidy: 9000,
                    lowestRate: 0,
                    conditions: "‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î 0% ‡∏ó‡∏µ‡πà‡∏î‡∏≤‡∏ß‡∏ô‡πå 25% ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ 60 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
                    rates: {
                        "5%": { "48": 2.25, "60": 2.85, "72": 3.50, "84": 4.09 },
                        "10%": { "48": 1.75, "60": 2.40, "72": 2.95, "84": 3.70 },
                        "15%": { "48": 0.90, "60": 1.65, "72": 2.30, "84": 2.90 },
                        "20%": { "48": 0.39, "60": 1.15, "72": 1.65, "84": 2.30 },
                        "25%": { "48": 0, "60": 0, "72": 1.45, "84": 2.09 }
                    }
                },
                "Corolla_Cross_2567": {
                    description: "‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏û‡∏¥‡πÄ‡∏®‡∏©‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÇ‡∏Ü‡∏©‡∏ì‡∏≤‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏ñ‡πÇ‡∏Ñ‡πÇ‡∏£‡∏•‡∏•‡πà‡∏≤ ‡∏Ñ‡∏£‡∏≠‡∏™ ‡∏£‡∏∏‡πà‡∏ô‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á ‡∏õ‡∏µ 2567",
                    models: ["Corolla_Cross"],
                    period: "1 ‡∏°‡∏µ.‡∏Ñ. - 31 ‡∏Å.‡∏Ñ. 2568",
                    deliveryDeadline: "31 ‡∏™.‡∏Ñ. 2568",
                    dealerSubsidy: 4000,
                    lowestRate: 1.39,
                    conditions: "‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î 1.39% ‡∏ó‡∏µ‡πà‡∏î‡∏≤‡∏ß‡∏ô‡πå 25% ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ 48 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
                    rates: {
                        "5%": { "48": 3.40, "60": 3.90, "72": 4.35, "84": 4.95 },
                        "10%": { "48": 3.00, "60": 3.40, "72": 3.89, "84": 4.55 },
                        "15%": { "48": 2.20, "60": 2.75, "72": 3.29, "84": 3.79 },
                        "20%": { "48": 1.79, "60": 2.29, "72": 2.60, "84": 3.19 },
                        "25%": { "48": 1.39, "60": 2.09, "72": 2.49, "84": 2.99 }
                    }
                },
                "Yaris_Cross_Special": {
                    description: "‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏û‡∏¥‡πÄ‡∏®‡∏©‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÇ‡∏Ü‡∏©‡∏ì‡∏≤‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏¢‡∏≤‡∏£‡∏¥‡∏™ ‡∏Ñ‡∏£‡∏≠‡∏™",
                    models: ["Yaris_Cross"],
                    period: "1 ‡∏°‡∏µ.‡∏Ñ. - 31 ‡∏Å.‡∏Ñ. 2568",
                    deliveryDeadline: "31 ‡∏™.‡∏Ñ. 2568",
                    dealerSubsidy: null,
                    lowestRate: 1.75,
                    conditions: "‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î 1.75% ‡∏ó‡∏µ‡πà‡∏î‡∏≤‡∏ß‡∏ô‡πå 25% ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ 48 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
                    rates: {
                        "5%": { "48": 3.69, "60": 3.99, "72": 4.45, "84": 4.89 },
                        "10%": { "48": 3.29, "60": 3.59, "72": 3.95, "84": 4.55 },
                        "15%": { "48": 2.49, "60": 2.89, "72": 3.35, "84": 3.75, "96": 4.25 },
                        "20%": { "48": 1.99, "60": 2.35, "72": 2.55, "84": 3.05, "96": 3.79 },
                        "25%": { "48": 1.75, "60": 2.19, "72": 2.45, "84": 2.99, "96": 3.69 }
                    }
                }
            },
            
            customerPrograms: {
                "TLT_A_Grade": {
                    description: "‡πÅ‡∏Ñ‡∏°‡πÄ‡∏õ‡∏ç‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏î‡∏µ TLT A-Grade",
                    interestDiscount: 0.20,
                    benefits: "‡∏î‡∏≤‡∏ß‡∏ô‡πå‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î 0% (Hilux Champ 5%), ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏ú‡∏π‡πâ‡∏Ñ‡πâ‡∏≥"
                },
                "Kubota_A_Grade": {
                    description: "‡πÅ‡∏Ñ‡∏°‡πÄ‡∏õ‡∏ç‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏î‡∏µ Kubota A-Grade",
                    interestDiscount: 0.20,
                    benefits: "‡∏î‡∏≤‡∏ß‡∏ô‡πå‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î 0% (Hilux Champ 5%), ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏ú‡∏π‡πâ‡∏Ñ‡πâ‡∏≥"
                },
                "Buy_More": {
                    description: "‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° Buy More",
                    interestDiscount: 0.15,
                    benefits: "‡∏î‡∏≤‡∏ß‡∏ô‡πå‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î 0% (Hilux Champ 5%), ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏ú‡∏π‡πâ‡∏Ñ‡πâ‡∏≥ ‡∏´‡∏£‡∏∑‡∏≠ ‡∏Ç‡∏±‡∏ö‡∏ü‡∏£‡∏µ 60‡∏ß‡∏±‡∏ô"
                },
                "Buy_Easy": {
                    description: "‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° Buy Easy",
                    interestDiscount: 0.15,
                    benefits: "‡∏î‡∏≤‡∏ß‡∏ô‡πå‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î 0% (Hilux Champ 5%), ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏ú‡∏π‡πâ‡∏Ñ‡πâ‡∏≥ ‡∏´‡∏£‡∏∑‡∏≠ ‡∏Ç‡∏±‡∏ö‡∏ü‡∏£‡∏µ 60‡∏ß‡∏±‡∏ô"
                },
                "Household": {
                    description: "‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏ö‡πâ‡∏≤‡∏ô (Household)",
                    interestDiscount: 0.15,
                    benefits: "‡∏î‡∏≤‡∏ß‡∏ô‡πå‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î 0%, ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏ú‡∏π‡πâ‡∏Ñ‡πâ‡∏≥ ‡∏´‡∏£‡∏∑‡∏≠ ‡∏Ç‡∏±‡∏ö‡∏ü‡∏£‡∏µ 60‡∏ß‡∏±‡∏ô (‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏î‡∏≤‡∏ß‡∏ô‡πå 15%)"
                },
                "Special_Profession": {
                    description: "‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏≠‡∏≤‡∏ä‡∏µ‡∏û‡∏û‡∏¥‡πÄ‡∏®‡∏©",
                    interestDiscount: 0.30,
                    benefits: "‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢ 0.50% ‡∏´‡∏£‡∏∑‡∏≠ ‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢ 0.20% + ‡∏Ñ‡πà‡∏≤‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢ 10,000 ‡∏ö‡∏≤‡∏ó"
                }
            },

            // ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç)
            sabaideePrograms: {
                "standard": {
                    description: "‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ",
                    terms: [48, 60],
                    RV: {
                        "Ativ": { "48": 45, "60": 40 },
                        "Yaris": { "48": 45, "60": 40 },
                        "Yaris_Cross": { "48": 45, "60": 40 },
                        "Veloz": { "48": 45, "60": 40 },
                        "Corolla_Cross": { "48": 45, "60": 40 },
                        "Corolla_Altis": { "48": 45, "60": 40 },
                        "Fortuner": { "48": 45, "60": 40 },
                        "Innova": { "48": 45, "60": 40 },
                        "Revo_BCab": { "48": 35, "60": 30 },
                        "Revo_CCab": { "48": 35, "60": 30 },
                        "Revo_DCab": { "48": 35, "60": 30 },
                        "Hilux_Champ": { "48": 35, "60": 30 }
                    }
                },
                "revolution": {
                    description: "‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ‡∏£‡∏µ‡πÇ‡∏ß‡∏•‡∏π‡∏ä‡∏±‡πà‡∏ô",
                    terms: [48, 60],
                    RV: {
                        "Ativ": { "48": 45, "60": 40 },
                        "Yaris": { "48": 45, "60": 40 },
                        "Yaris_Cross": { "48": 45, "60": 40 },
                        "Veloz": { "48": 45, "60": 40 },
                        "Corolla_Cross": { "48": 45, "60": 40 },
                        "Corolla_Altis": { "48": 45, "60": 40 },
                        "Fortuner": { "48": 45, "60": 40 },
                        "Innova": { "48": 45, "60": 40 },
                        "Revo_BCab": { "48": 35, "60": 30 },
                        "Revo_CCab": { "48": 35, "60": 30 },
                        "Revo_DCab": { "48": 35, "60": 30 },
                        "Hilux_Champ": { "48": 35, "60": 30 }
                    }
                },
                "stair_step": {
                    description: "‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ Stair Step",
                    terms: [48, 60],
                    steps: {
                        step1: { months: 12, percentage: 14 },
                        step2: { months: 24, percentage: 42 },
                        step3: { months: 12, percentage: 44 }
                    },
                    RV: {
                        "Ativ": { "48": 45, "60": 40 },
                        "Yaris": { "48": 45, "60": 40 },
                        "Yaris_Cross": { "48": 45, "60": 40 },
                        "Veloz": { "48": 45, "60": 40 },
                        "Corolla_Cross": { "48": 45, "60": 40 },
                        "Corolla_Altis": { "48": 45, "60": 40 },
                        "Fortuner": { "48": 45, "60": 40 },
                        "Innova": { "48": 45, "60": 40 },
                        "Revo_BCab": { "48": 35, "60": 30 },
                        "Revo_CCab": { "48": 35, "60": 30 },
                        "Revo_DCab": { "48": 35, "60": 30 },
                        "Hilux_Champ": { "48": 35, "60": 30 }
                    }
                },
                "seven_years": {
                    description: "‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ 7 ‡∏õ‡∏µ",
                    minDownPayment: 10,
                    term: 84,
                    RV: 20,
                    applicableModels: ["Ativ", "Yaris", "Yaris_Cross", "Revo_BCab", "Revo_CCab", "Revo_DCab", "Hilux_Champ"],
                    commission: "8% ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 72 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô + ‡∏Ñ‡πà‡∏≤‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏© 500 ‡∏ö‡∏≤‡∏ó"
                }
            }
        };

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏≤‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå‡∏î‡∏≤‡∏ß‡∏ô‡πå‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢
        function findMinimumDownPaymentPercent(actualPercent, model, term, promotion = null) {
            const availablePercents = [5, 10, 15, 20, 25];
            
            for (let percent of availablePercents) {
                if (percent >= actualPercent) {
                    const rate = getInterestRate(model, percent, term, promotion);
                    if (rate !== null) {
                        return percent;
                    }
                }
            }
            
            for (let percent of availablePercents) {
                const rate = getInterestRate(model, percent, term, promotion);
                if (rate !== null) {
                    return percent;
                }
            }
            
            return null;
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå‡πÄ‡∏á‡∏¥‡∏ô‡∏î‡∏≤‡∏ß‡∏ô‡πå
        function updateDownPaymentPercentage(tabType) {
            const priceId = tabType === 'sabaidee' ? 'sabaideeCarPrice' : 'carPrice';
            const downPaymentId = tabType === 'sabaidee' ? 'sabaideeDownPayment' : 'downPayment';
            const modelId = tabType === 'sabaidee' ? 'sabaideeCarModel' : 'carModel';
            const termId = tabType === 'sabaidee' ? 'sabaideeTerm' : 'loanTerm';
            const percentageId = tabType === 'sabaidee' ? 'sabaideeDownPaymentPercentage' : 'downPaymentPercentage';
            
            const price = parseFloat(document.getElementById(priceId).value);
            const downPayment = parseFloat(document.getElementById(downPaymentId).value);
            const model = document.getElementById(modelId).value;
            const term = parseInt(document.getElementById(termId).value);
            const percentageDiv = document.getElementById(percentageId);
            
            if (price && downPayment && price > 0) {
                const actualPercent = (downPayment / price * 100).toFixed(1);
                
                if (tabType === 'sabaidee') {
                    // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô
                    percentageDiv.textContent = `‡∏Ñ‡∏¥‡∏î‡πÄ‡∏õ‡πá‡∏ô ${actualPercent}% ‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ñ`;
                    percentageDiv.style.color = '#666';
                    
                    // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó RV Display
                    updateRVDisplay();
                } else if (model && term) {
                    // ‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πà‡∏≤‡∏ã‡∏∑‡πâ‡∏≠‡∏õ‡∏Å‡∏ï‡∏¥
                    const selectedPromotions = [];
                    document.querySelectorAll('#traditional-tab input[type="checkbox"]:checked').forEach(checkbox => {
                        if (!checkbox.value.includes('_Grade') && !checkbox.value.includes('_More') && 
                            !checkbox.value.includes('_Easy') && checkbox.value !== 'Household' && 
                            checkbox.value !== 'Special_Profession') {
                            selectedPromotions.push(checkbox.value);
                        }
                    });
                    
                    const minPercent = findMinimumDownPaymentPercent(parseFloat(actualPercent), model, term, selectedPromotions[0]);
                    
                    if (minPercent === null) {
                        percentageDiv.textContent = `‡∏Ñ‡∏¥‡∏î‡πÄ‡∏õ‡πá‡∏ô ${actualPercent}% | ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ${model} ‡∏á‡∏ß‡∏î ${term} ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô`;
                        percentageDiv.style.color = '#d32f2f';
                        return;
                    }
                    
                    const criteriaAmount = Math.round(price * minPercent / 100);
                    const difference = criteriaAmount - downPayment;
                    
                    let displayText = `‡∏Ñ‡∏¥‡∏î‡πÄ‡∏õ‡πá‡∏ô ${actualPercent}% ‚Üí ‡πÉ‡∏ä‡πâ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥ ${minPercent}% (${criteriaAmount.toLocaleString()} ‡∏ö‡∏≤‡∏ó)`;
                    
                    if (difference > 100) {
                        displayText += ` | ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏á‡∏¥‡∏ô ${difference.toLocaleString()} ‡∏ö‡∏≤‡∏ó`;
                        percentageDiv.style.color = '#d32f2f';
                    } else if (difference <= 0) {
                        displayText += ` | ‡∏á‡∏ö‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠`;
                        percentageDiv.style.color = '#2e7d32';
                    } else {
                        percentageDiv.style.color = '#666';
                    }
                    
                    percentageDiv.textContent = displayText;
                } else {
                    percentageDiv.textContent = `‡∏Ñ‡∏¥‡∏î‡πÄ‡∏õ‡πá‡∏ô ${actualPercent}% ‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ñ`;
                    percentageDiv.style.color = '#666';
                }
            } else {
                percentageDiv.textContent = '';
            }
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏á‡∏ß‡∏î‡∏ï‡∏≤‡∏°‡∏£‡∏∏‡πà‡∏ô‡∏£‡∏ñ
        function updateAvailableTerms(tabType) {
            const modelId = tabType === 'sabaidee' ? 'sabaideeCarModel' : 'carModel';
            const termId = tabType === 'sabaidee' ? 'sabaideeTerm' : 'loanTerm';
            
            const carModel = document.getElementById(modelId).value;
            const termSelect = document.getElementById(termId);
            
            termSelect.innerHTML = '<option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏á‡∏ß‡∏î --</option>';
            
            if (carModel && ToyotaLeasingSystem.standardRates[carModel]) {
                const availableTerms = new Set();
                const rates = ToyotaLeasingSystem.standardRates[carModel];
                
                Object.values(rates).forEach(termRates => {
                    Object.keys(termRates).forEach(term => {
                        availableTerms.add(term);
                    });
                });
                
                Array.from(availableTerms).sort((a, b) => parseInt(a) - parseInt(b)).forEach(term => {
                    const option = document.createElement('option');
                    option.value = term;
                    const years = Math.floor(term / 12);
                    const remainingMonths = term % 12;
                    let yearText = years > 0 ? `${years} ‡∏õ‡∏µ` : '';
                    if (remainingMonths > 0) {
                        yearText += yearText ? ` ${remainingMonths} ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô` : `${remainingMonths} ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô`;
                    }
                    option.textContent = `${term} ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (${yearText})`;
                    termSelect.appendChild(option);
                });
            }
            
            updateDownPaymentPercentage(tabType);
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ
        function updateSabaideeOptions() {
            const model = document.getElementById('sabaideeCarModel').value;
            const programSelect = document.getElementById('sabaideeProgram');
            
            // Reset program selection
            programSelect.innerHTML = '<option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° --</option>';
            
            if (model) {
                // Check which programs are available for this model
                Object.entries(ToyotaLeasingSystem.sabaideePrograms).forEach(([key, program]) => {
                    let isAvailable = true;
                    
                    // Check if model is applicable for seven_years program
                    if (key === 'seven_years' && !program.applicableModels.includes(model)) {
                        isAvailable = false;
                    }
                    
                    if (isAvailable) {
                        const option = document.createElement('option');
                        option.value = key;
                        option.textContent = program.description;
                        programSelect.appendChild(option);
                    }
                });
            }
            
            updateDownPaymentPercentage('sabaidee');
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏á‡∏ß‡∏î‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ
        function updateSabaideeTerms() {
            const program = document.getElementById('sabaideeProgram').value;
            const termSelect = document.getElementById('sabaideeTerm');
            
            termSelect.innerHTML = '<option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ --</option>';
            
            if (program && ToyotaLeasingSystem.sabaideePrograms[program]) {
                const programData = ToyotaLeasingSystem.sabaideePrograms[program];
                
                if (program === 'seven_years') {
                    const option = document.createElement('option');
                    option.value = '84';
                    option.textContent = '84 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (7 ‡∏õ‡∏µ)';
                    termSelect.appendChild(option);
                } else {
                    programData.terms.forEach(term => {
                        const option = document.createElement('option');
                        option.value = term;
                        const years = Math.floor(term / 12);
                        option.textContent = `${term} ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (${years} ‡∏õ‡∏µ)`;
                        termSelect.appendChild(option);
                    });
                }
            }
            
            updateRVDisplay();
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡πÅ‡∏™‡∏î‡∏á RV
        function updateRVDisplay() {
            const model = document.getElementById('sabaideeCarModel').value;
            const program = document.getElementById('sabaideeProgram').value;
            const term = document.getElementById('sabaideeTerm').value;
            const price = parseFloat(document.getElementById('sabaideeCarPrice').value);
            
            const rvDisplay = document.getElementById('rvDisplay');
            const rvPercentage = document.getElementById('rvPercentage');
            const rvAmount = document.getElementById('rvAmount');
            
            if (model && program && term && price) {
                const programData = ToyotaLeasingSystem.sabaideePrograms[program];
                let rvPercent = 0;
                
                if (program === 'seven_years') {
                    rvPercent = programData.RV;
                } else {
                    // ‡∏´‡∏≤ RV ‡∏à‡∏≤‡∏Å‡∏ï‡∏≤‡∏£‡∏≤‡∏á
                    const rvTable = programData.RV;
                    
                    // ‡∏î‡∏π‡∏ß‡πà‡∏≤‡∏£‡∏∏‡πà‡∏ô‡∏£‡∏ñ‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á RV ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
                    if (rvTable[model]) {
                        rvPercent = rvTable[model][term] || 0;
                    } else {
                        // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
                        rvPercent = 0;
                    }
                }
                
                const rvAmountValue = Math.round(price * rvPercent / 100);
                
                rvPercentage.textContent = `${rvPercent}%`;
                rvAmount.textContent = `${rvAmountValue.toLocaleString()} ‡∏ö‡∏≤‡∏ó`;
                rvDisplay.style.display = 'block';
            } else {
                rvDisplay.style.display = 'none';
            }
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏≤‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢
        function getInterestRate(model, downPayment, term, promotion = null) {
            const key = downPayment + "%";
            const termStr = term.toString();
            
            if (promotion && ToyotaLeasingSystem.specialPromotions[promotion]) {
                const promo = ToyotaLeasingSystem.specialPromotions[promotion];
                if (promo.models.includes(model)) {
                    return promo.rates[key]?.[termStr] || null;
                }
            }
            
            return ToyotaLeasingSystem.standardRates[model]?.[key]?.[termStr] || null;
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡∏á‡∏ß‡∏î
        function calculateMonthlyPayment(principal, annualRate, months) {
            if (annualRate === 0) return Math.round(principal / months);
            
            const monthlyRate = annualRate / 100 / 12;
            const payment = principal * (monthlyRate * Math.pow(1 + monthlyRate, months)) / 
                           (Math.pow(1 + monthlyRate, months) - 1);
            return Math.round(payment);
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏ä‡πâ‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏à‡∏≤‡∏Å‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
        function applyCustomerDiscount(baseRate, programs) {
            let totalDiscount = 0;
            programs.forEach(program => {
                if (ToyotaLeasingSystem.customerPrograms[program]) {
                    totalDiscount += ToyotaLeasingSystem.customerPrograms[program].interestDiscount;
                }
            });
            return Math.max(baseRate - totalDiscount, 0);
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç)
        function calculateSabaidee() {
            const model = document.getElementById('sabaideeCarModel').value;
            const price = parseFloat(document.getElementById('sabaideeCarPrice').value);
            const downPaymentAmount = parseFloat(document.getElementById('sabaideeDownPayment').value);
            const program = document.getElementById('sabaideeProgram').value;
            const term = parseInt(document.getElementById('sabaideeTerm').value);
            
            const resultsDiv = document.getElementById('sabaideeResults');
            
            // Validation
            if (!model || !price || !downPaymentAmount || !program || !term) {
                resultsDiv.innerHTML = `
                    <div class="error-message">
                        ‚ùå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô
                    </div>
                `;
                return;
            }

            if (downPaymentAmount >= price) {
                resultsDiv.innerHTML = `
                    <div class="error-message">
                        ‚ùå ‡∏á‡∏ö‡∏î‡∏≤‡∏ß‡∏ô‡πå‡∏ï‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ñ
                    </div>
                `;
                return;
            }

            try {
                const programData = ToyotaLeasingSystem.sabaideePrograms[program];
                const downPaymentPercent = (downPaymentAmount / price) * 100;
                
                // ‡∏´‡∏≤ RV
                let rvPercent = 0;
                if (program === 'seven_years') {
                    rvPercent = programData.RV;
                } else {
                    const rvTable = programData.RV;
                    if (rvTable[model]) {
                        rvPercent = rvTable[model][term] || 0;
                    }
                }

                const rvAmount = Math.round(price * rvPercent / 100);
                const financeAmount = price - downPaymentAmount - rvAmount;
                
                // ‡∏´‡∏≤‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢ (‡πÉ‡∏ä‡πâ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥)
                const minDownPaymentPercent = Math.ceil(downPaymentPercent / 5) * 5; // ‡∏õ‡∏±‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏õ‡πá‡∏ô 5, 10, 15, 20, 25
                let interestRate = getInterestRate(model, Math.min(minDownPaymentPercent, 25), term);
                
                if (interestRate === null) {
                    // ‡∏•‡∏≠‡∏á‡∏´‡∏≤‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ
                    for (let percent of [5, 10, 15, 20, 25]) {
                        interestRate = getInterestRate(model, percent, term);
                        if (interestRate !== null) break;
                    }
                }

                if (interestRate === null) {
                    resultsDiv.innerHTML = `
                        <div class="error-message">
                            ‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ${model} ‡∏á‡∏ß‡∏î ${term} ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
                        </div>
                    `;
                    return;
                }

                // ‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
                const selectedCustomerPrograms = [];
                document.querySelectorAll('#sabaidee-tab input[type="checkbox"]:checked').forEach(checkbox => {
                    selectedCustomerPrograms.push(checkbox.value);
                });

                const originalRate = interestRate;
                let customerProgramDiscount = 0;
                
                // ‡πÉ‡∏ä‡πâ‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏à‡∏≤‡∏Å‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
                if (selectedCustomerPrograms.length > 0) {
                    const discountedRate = applyCustomerDiscount(interestRate, selectedCustomerPrograms);
                    customerProgramDiscount = interestRate - discountedRate;
                    interestRate = discountedRate;
                }

                // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡∏á‡∏ß‡∏î
                const monthlyPayment = calculateMonthlyPayment(financeAmount, interestRate, term);
                const totalPayment = monthlyPayment * term;
                const totalInterest = totalPayment - financeAmount;
                const totalCost = downPaymentAmount + totalPayment; // ‡πÑ‡∏°‡πà‡∏£‡∏ß‡∏° RV ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏Ñ‡∏∑‡∏ô

                // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Stair Step ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏û‡∏¥‡πÄ‡∏®‡∏©
                let stairStepHtml = '';
                if (program === 'stair_step') {
                    const step1Payment = Math.round(monthlyPayment * programData.steps.step1.percentage / 100);
                    const step2Payment = Math.round(monthlyPayment * programData.steps.step2.percentage / 100);
                    const step3Payment = Math.round(monthlyPayment * programData.steps.step3.percentage / 100);
                    
                    stairStepHtml = `
                        <div class="result-card highlight">
                            <h4>üìà ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î Stair Step</h4>
                            <div class="result-row">
                                <span class="result-label">‡∏á‡∏ß‡∏î‡∏ó‡∏µ‡πà 1-12 (14%):</span>
                                <span class="result-value">${step1Payment.toLocaleString()} ‡∏ö‡∏≤‡∏ó/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</span>
                            </div>
                            <div class="result-row">
                                <span class="result-label">‡∏á‡∏ß‡∏î‡∏ó‡∏µ‡πà 13-36 (42%):</span>
                                <span class="result-value">${step2Payment.toLocaleString()} ‡∏ö‡∏≤‡∏ó/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</span>
                            </div>
                            <div class="result-row">
                                <span class="result-label">‡∏á‡∏ß‡∏î‡∏ó‡∏µ‡πà 37-${term} (44%):</span>
                                <span class="result-value">${step3Payment.toLocaleString()} ‡∏ö‡∏≤‡∏ó/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</span>
                            </div>
                        </div>
                    `;
                }

                let resultHtml = `
                    <div class="result-card">
                        <h3>üìã ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ</h3>
                        <div class="result-row">
                            <span class="result-label">‡∏£‡∏∏‡πà‡∏ô‡∏£‡∏ñ:</span>
                            <span class="result-value">${model.replace('_', ' ')}</span>
                        </div>
                        <div class="result-row">
                            <span class="result-label">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ñ:</span>
                            <span class="result-value">${price.toLocaleString()} ‡∏ö‡∏≤‡∏ó</span>
                        </div>
                        <div class="result-row">
                            <span class="result-label">‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°:</span>
                            <span class="result-value">${programData.description}</span>
                        </div>
                        <div class="result-row">
                            <span class="result-label">‡πÄ‡∏á‡∏¥‡∏ô‡∏î‡∏≤‡∏ß‡∏ô‡πå:</span>
                            <span class="result-value">${downPaymentAmount.toLocaleString()} ‡∏ö‡∏≤‡∏ó (${downPaymentPercent.toFixed(1)}%)</span>
                        </div>
                        <div class="result-row">
                            <span class="result-label">‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ (RV):</span>
                            <span class="result-value">${rvAmount.toLocaleString()} ‡∏ö‡∏≤‡∏ó (${rvPercent}%)</span>
                        </div>
                        <div class="result-row">
                            <span class="result-label">‡∏¢‡∏≠‡∏î‡∏à‡∏±‡∏î‡πÑ‡∏ü‡πÅ‡∏ô‡∏ô‡∏ã‡πå:</span>
                            <span class="result-value">${financeAmount.toLocaleString()} ‡∏ö‡∏≤‡∏ó</span>
                        </div>
                        <div class="result-row">
                            <span class="result-label">‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤:</span>
                            <span class="result-value">${term} ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</span>
                        </div>
                    </div>

                    <div class="result-card highlight">
                        <h3>üí∞ ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ</h3>
                        <div class="result-row">
                            <span class="result-label">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô:</span>
                            <span class="result-value">${originalRate}% ‡∏ï‡πà‡∏≠‡∏õ‡∏µ</span>
                        </div>
                `;

                if (customerProgramDiscount > 0) {
                    resultHtml += `
                        <div class="result-row">
                            <span class="result-label">‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏à‡∏≤‡∏Å‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤:</span>
                            <span class="result-value">-${customerProgramDiscount.toFixed(2)}%</span>
                        </div>
                        <div class="result-row">
                            <span class="result-label">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢:</span>
                            <span class="result-value">${interestRate.toFixed(2)}% ‡∏ï‡πà‡∏≠‡∏õ‡∏µ</span>
                        </div>
                    `;
                }
                
                resultHtml += `
                        <div class="result-row">
                            <span class="result-label">‡∏Ñ‡πà‡∏≤‡∏á‡∏ß‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô:</span>
                            <span class="result-value" style="font-size: 1.3rem; color: #d32f2f; font-weight: 800;">${monthlyPayment.toLocaleString()} ‡∏ö‡∏≤‡∏ó</span>
                        </div>
                        <div class="result-row">
                            <span class="result-label">‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞‡∏£‡∏ß‡∏°:</span>
                            <span class="result-value">${totalPayment.toLocaleString()} ‡∏ö‡∏≤‡∏ó</span>
                        </div>
                        <div class="result-row">
                            <span class="result-label">‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏£‡∏ß‡∏°:</span>
                            <span class="result-value">${totalInterest.toLocaleString()} ‡∏ö‡∏≤‡∏ó</span>
                        </div>
                        <div class="result-row">
                            <span class="result-label">‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏ß‡∏°:</span>
                            <span class="result-value">${totalCost.toLocaleString()} ‡∏ö‡∏≤‡∏ó</span>
                        </div>
                    </div>

                    ${stairStepHtml}

                    <div class="result-card budget-analysis">
                        <h4>üí° ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç</h4>
                        <p style="margin-bottom: 10px;"><strong>‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ (RV):</strong> ${rvAmount.toLocaleString()} ‡∏ö‡∏≤‡∏ó</p>
                        <p style="margin-bottom: 10px;"><strong>‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏ö‡∏™‡∏±‡∏ç‡∏ç‡∏≤:</strong></p>
                        <ul style="margin-left: 20px; color: #555;">
                            <li>‡∏ã‡∏∑‡πâ‡∏≠‡∏£‡∏ñ‡πÉ‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤ RV ${rvAmount.toLocaleString()} ‡∏ö‡∏≤‡∏ó</li>
                            <li>‡∏Ñ‡∏∑‡∏ô‡∏£‡∏ñ‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏° ‡∏´‡∏≤‡∏Å‡∏™‡∏†‡∏≤‡∏û‡∏£‡∏ñ‡∏ï‡∏≤‡∏°‡πÄ‡∏Å‡∏ì‡∏ë‡πå)</li>
                            <li>‡∏ï‡πà‡∏≠‡∏≠‡∏≤‡∏¢‡∏∏‡∏™‡∏±‡∏ç‡∏ç‡∏≤ (‡∏ï‡∏≤‡∏°‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó)</li>
                        </ul>
                    </div>
                `;

                // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ
                if (selectedCustomerPrograms.length > 0) {
                    resultHtml += `<div class="result-card">
                        <h3>üéÅ ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ</h3>`;
                    
                    selectedCustomerPrograms.forEach(program => {
                        const programData = ToyotaLeasingSystem.customerPrograms[program];
                        if (programData) {
                            resultHtml += `
                                <div class="result-row">
                                    <span class="result-label">‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°:</span>
                                    <span class="result-value">${programData.description}</span>
                                </div>
                            `;
                        }
                    });
                    
                    resultHtml += `</div>`;
                }
                
                resultsDiv.innerHTML = resultHtml;
                
            } catch (error) {
                resultsDiv.innerHTML = `
                    <div class="error-message">
                        ‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì: ${error.message}
                    </div>
                `;
            }
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏•‡∏±‡∏Å‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì (‡πÄ‡∏ä‡πà‡∏≤‡∏ã‡∏∑‡πâ‡∏≠‡πÅ‡∏ö‡∏ö‡∏î‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏¥‡∏°)
        function calculateFinancing() {
            const model = document.getElementById('carModel').value;
            const price = parseFloat(document.getElementById('carPrice').value);
            const downPaymentAmount = parseFloat(document.getElementById('downPayment').value);
            const term = parseInt(document.getElementById('loanTerm').value);
            const additionalDiscount = parseFloat(document.getElementById('additionalDiscount').value) || 0;
            
            const resultsDiv = document.getElementById('results');
            
            // Validation
            if (!model || !price || price < 50000) {
                resultsDiv.innerHTML = `
                    <div class="error-message">
                        ‚ùå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô (‡∏£‡∏∏‡πà‡∏ô‡∏£‡∏ñ ‡πÅ‡∏•‡∏∞ ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ñ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥ 50,000 ‡∏ö‡∏≤‡∏ó)
                    </div>
                `;
                return;
            }

            if (!downPaymentAmount || !term) {
                resultsDiv.innerHTML = `
                    <div class="error-message">
                        ‚ùå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏á‡∏ö‡∏î‡∏≤‡∏ß‡∏ô‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏á‡∏ß‡∏î
                    </div>
                `;
                return;
            }

            // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏á‡∏ö‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ñ
            if (downPaymentAmount >= price) {
                resultsDiv.innerHTML = `
                    <div class="error-message">
                        ‚ùå ‡∏á‡∏ö‡∏î‡∏≤‡∏ß‡∏ô‡πå‡∏ï‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ñ
                    </div>
                `;
                return;
            }

            // ‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡πÅ‡∏•‡∏∞‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
            const selectedPromotions = [];
            const selectedCustomerPrograms = [];
            
            document.querySelectorAll('#traditional-tab input[type="checkbox"]:checked').forEach(checkbox => {
                if (checkbox.value.includes('_Grade') || checkbox.value.includes('_More') || 
                    checkbox.value.includes('_Easy') || checkbox.value === 'Household' || 
                    checkbox.value === 'Special_Profession') {
                    selectedCustomerPrograms.push(checkbox.value);
                } else {
                    selectedPromotions.push(checkbox.value);
                }
            });

            try {
                const downPaymentPercent = (downPaymentAmount / price) * 100;
                const loanAmount = price - downPaymentAmount;
                
                // ‡∏´‡∏≤‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå‡∏î‡∏≤‡∏ß‡∏ô‡πå‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ
                const minDownPaymentPercent = findMinimumDownPaymentPercent(
                    downPaymentPercent, model, term, selectedPromotions[0]
                );
                
                if (minDownPaymentPercent === null) {
                    resultsDiv.innerHTML = `
                        <div class="error-message">
                            ‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ${model} ‡∏á‡∏ß‡∏î ${term} ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
                        </div>
                    `;
                    return;
                }

                // ‡∏´‡∏≤‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢
                let interestRate = getInterestRate(model, minDownPaymentPercent, term, selectedPromotions[0]);
                
                if (interestRate === null) {
                    resultsDiv.innerHTML = `
                        <div class="error-message">
                            ‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ${model} ‡∏á‡∏ß‡∏î ${term} ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
                        </div>
                    `;
                    return;
                }

                const originalRate = interestRate;
                let customerProgramDiscount = 0;
                
                // ‡πÉ‡∏ä‡πâ‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏à‡∏≤‡∏Å‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
                if (selectedCustomerPrograms.length > 0) {
                    const discountedRate = applyCustomerDiscount(interestRate, selectedCustomerPrograms);
                    customerProgramDiscount = interestRate - discountedRate;
                    interestRate = discountedRate;
                }

                // ‡πÉ‡∏ä‡πâ‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
                if (additionalDiscount > 0) {
                    interestRate = Math.max(interestRate - additionalDiscount, 0);
                }

                // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡∏á‡∏ß‡∏î
                const monthlyPayment = calculateMonthlyPayment(loanAmount, interestRate, term);
                const totalPayment = monthlyPayment * term;
                const totalInterest = totalPayment - loanAmount;
                const totalCost = downPaymentAmount + totalPayment;

                // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
                let resultHtml = `
                    <div class="result-card">
                        <h3>üìã ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</h3>
                        <div class="result-row">
                            <span class="result-label">‡∏£‡∏∏‡πà‡∏ô‡∏£‡∏ñ:</span>
                            <span class="result-value">${model.replace('_', ' ')}</span>
                        </div>
                        <div class="result-row">
                            <span class="result-label">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ñ:</span>
                            <span class="result-value">${price.toLocaleString()} ‡∏ö‡∏≤‡∏ó</span>
                        </div>
                        <div class="result-row">
                            <span class="result-label">‡πÄ‡∏á‡∏¥‡∏ô‡∏î‡∏≤‡∏ß‡∏ô‡πå:</span>
                            <span class="result-value">${downPaymentAmount.toLocaleString()} ‡∏ö‡∏≤‡∏ó (${downPaymentPercent.toFixed(1)}%)</span>
                        </div>
                        <div class="result-row">
                            <span class="result-label">‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥:</span>
                            <span class="result-value">${minDownPaymentPercent}% (${Math.round(price * minDownPaymentPercent / 100).toLocaleString()} ‡∏ö‡∏≤‡∏ó)</span>
                        </div>
                        <div class="result-row">
                            <span class="result-label">‡∏¢‡∏≠‡∏î‡∏à‡∏±‡∏î‡πÑ‡∏ü‡πÅ‡∏ô‡∏ô‡∏ã‡πå:</span>
                            <span class="result-value">${loanAmount.toLocaleString()} ‡∏ö‡∏≤‡∏ó</span>
                        </div>
                        <div class="result-row">
                            <span class="result-label">‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤:</span>
                            <span class="result-value">${term} ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</span>
                        </div>
                    </div>

                    <div class="result-card highlight">
                        <h3>üí∞ ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</h3>
                        <div class="result-row">
                            <span class="result-label">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô:</span>
                            <span class="result-value">${originalRate}% ‡∏ï‡πà‡∏≠‡∏õ‡∏µ</span>
                        </div>
                `;

                if (customerProgramDiscount > 0) {
                    resultHtml += `
                        <div class="result-row">
                            <span class="result-label">‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏à‡∏≤‡∏Å‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤:</span>
                            <span class="result-value">-${customerProgramDiscount.toFixed(2)}%</span>
                        </div>
                    `;
                }

                if (additionalDiscount > 0) {
                    resultHtml += `
                        <div class="result-row">
                            <span class="result-label">‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°:</span>
                            <span class="result-value">-${additionalDiscount.toFixed(2)}%</span>
                        </div>
                    `;
                }

                resultHtml += `
                        <div class="result-row">
                            <span class="result-label">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢:</span>
                            <span class="result-value">${interestRate.toFixed(2)}% ‡∏ï‡πà‡∏≠‡∏õ‡∏µ</span>
                        </div>
                        <div class="result-row">
                            <span class="result-label">‡∏Ñ‡πà‡∏≤‡∏á‡∏ß‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô:</span>
                            <span class="result-value" style="font-size: 1.3rem; color: #d32f2f; font-weight: 800;">${monthlyPayment.toLocaleString()} ‡∏ö‡∏≤‡∏ó</span>
                        </div>
                        <div class="result-row">
                            <span class="result-label">‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞‡∏£‡∏ß‡∏°:</span>
                            <span class="result-value">${totalPayment.toLocaleString()} ‡∏ö‡∏≤‡∏ó</span>
                        </div>
                        <div class="result-row">
                            <span class="result-label">‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏£‡∏ß‡∏°:</span>
                            <span class="result-value">${totalInterest.toLocaleString()} ‡∏ö‡∏≤‡∏ó</span>
                        </div>
                        <div class="result-row">
                            <span class="result-label">‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏ß‡∏°:</span>
                            <span class="result-value">${totalCost.toLocaleString()} ‡∏ö‡∏≤‡∏ó</span>
                        </div>
                    </div>
                `;

                // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ
                if (selectedPromotions.length > 0) {
                    resultHtml += `<div class="result-card">
                        <h3>üéâ ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ</h3>`;
                    
                    selectedPromotions.forEach(promotion => {
                        const promoData = ToyotaLeasingSystem.specialPromotions[promotion];
                        if (promoData) {
                            resultHtml += `
                                <div class="result-row">
                                    <span class="result-label">‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô:</span>
                                    <span class="result-value">${promoData.description}</span>
                                </div>
                            `;
                        }
                    });
                    
                    resultHtml += `</div>`;
                }

                // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ
                if (selectedCustomerPrograms.length > 0) {
                    resultHtml += `<div class="result-card">
                        <h3>üéÅ ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ</h3>`;
                    
                    selectedCustomerPrograms.forEach(program => {
                        const programData = ToyotaLeasingSystem.customerPrograms[program];
                        if (programData) {
                            resultHtml += `
                                <div class="result-row">
                                    <span class="result-label">‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°:</span>
                                    <span class="result-value">${programData.description}</span>
                                </div>
                            `;
                        }
                    });
                    
                    resultHtml += `</div>`;
                }
                
                resultsDiv.innerHTML = resultHtml;
                
            } catch (error) {
                resultsDiv.innerHTML = `
                    <div class="error-message">
                        ‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì: ${error.message}
                    </div>
                `;
            }
        }
    </script>
</body>
</html>
